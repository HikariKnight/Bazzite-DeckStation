[Unit]
Description=HugeTLB Gigantic Pages mounting
DefaultDependencies=no
Before=dev-hugepages.mount
ConditionPathExists=/sys/devices/system/node
ConditionKernelCommandLine=hugepagesz=1G

[Service]
Type=oneshot
RemainAfterExit=yes
ExecStart=/usr/libexec/hugepages1g_numa/hugetlb-reserve-pages

[Install]
WantedBy=sysinit.target